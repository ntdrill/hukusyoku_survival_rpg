# 復職RPG 🎮

2DグリッドベースのRPGゲーム。主人公（矢印）を操作してマップを探索しよう！

## 🎯 ゲームの特徴

- **グリッドベースの2D RPG** - 主人公をキーボードで操作して探索
- **ドット絵風のグラフィック** - 地面・草・岩・おばけが配置された世界
- **衝突判定システム** - 岩は通過不可・おばけとの遭遇イベント
- **動的なマップ変化** - 30秒ごとに地形が自動的に再生成
- **カスタマイズ可能な地形比率** - 各タイルの出現確率をリアルタイムで調整可能
- **スムーズな移動アニメーション** - 向きに応じた矢印の回転と滑らかな移動

## 🚀 プレイ方法

### 1. ファイルの準備

このリポジトリをクローンまたはダウンロードします：

```bash
git clone https://github.com/ntdrill/hukusyoku_survival_rpg.git
cd hukusyoku_survival_rpg
```

### 2. ゲームの起動

`index.html` をWebブラウザで開くだけでプレイできます。

**方法A: ダブルクリック**
- `index.html` をダブルクリックしてブラウザで開く

**方法B: ブラウザから開く**
- ブラウザを起動
- `Ctrl + O` (Windowsの場合) または `Cmd + O` (Macの場合)
- `index.html` を選択して開く

**方法C: ライブサーバー（推奨）**
```bash
# VS Codeの場合、Live Server拡張機能を使用
# または、Pythonの簡易サーバー
python -m http.server 8000
# ブラウザで http://localhost:8000 を開く
```

### 3. 操作方法

#### キーボード操作
- **移動**: 矢印キー（↑↓←→）または WASD キー
- 主人公の向きは移動方向に自動的に変わります

#### ゲームの目標
- マップを探索してください
- おばけを見つけて遭遇しましょう
- 岩は通過できないので迂回してください

## ⚙️ カスタマイズ

### タイル出現比率の調整

ゲーム画面下部のスライダーで、各タイルの出現確率を調整できます：

1. **地面** 🟫 - 通過可能な基本的な地形
2. **草** 🟩 - 通過可能な草原
3. **岩** ⬛ - 通過不可の障害物
4. **おばけ** 👻 - 遭遇するとイベント発生

**注意**: 合計が100%になるように調整してください。

### 設定例

```javascript
// game.js の TILE_SPAWN_RATES を直接編集することも可能

// 岩だらけのマップ
地面: 30%, 草: 10%, 岩: 55%, おばけ: 5%

// 草原マップ
地面: 20%, 草: 75%, 岩: 3%, おばけ: 2%

// おばけ多めマップ
地面: 40%, 草: 30%, 岩: 10%, おばけ: 20%
```

## 📁 プロジェクト構造

```
復職RPG/
├── index.html          # メインHTMLファイル
├── game.js             # ゲームロジック
├── asset/              # アセットフォルダ
│   └── IMG_1409.png    # 参考画像
├── docs/               # ドキュメント
│   └── KKmemo.txt      # 開発メモ
└── README.md           # このファイル
```

## 🛠️ 技術仕様

- **言語**: HTML5, CSS3, JavaScript (Vanilla JS)
- **描画**: Canvas API
- **アニメーション**: requestAnimationFrame
- **サーバー**: 不要（ブラウザのみで動作）

## 📝 実装されている機能

### マップシステム
- 20×15グリッドのタイルベースマップ
- 各タイルは32×32ピクセル
- ランダム生成アルゴリズムによる配置
- 固定パターンで描画（移動しても模様が変わらない）

### プレイヤーシステム
- グリッド上の移動
- 4方向（上下左右）の向き変更
- スムーズな移動アニメーション（150ms）
- イージング関数による自然な動き

### 衝突判定
- 岩との衝突判定（通過不可）
- 画面端の判定
- おばけとの遭遇判定

### マップ再生成
- 30秒ごとに自動再生成
- プレイヤー位置は保持
- 新しいドットパターンを生成

## 🔧 カスタマイズオプション

`game.js` の定数を編集することで、以下をカスタマイズできます：

```javascript
const TILE_SIZE = 32;                      // タイルサイズ
const GRID_WIDTH = 20;                     // グリッドの幅
const GRID_HEIGHT = 15;                    // グリッドの高さ
const MAP_REGENERATE_INTERVAL = 30000;     // マップ再生成間隔（ミリ秒）
const MOVE_ANIMATION_DURATION = 150;       // 移動アニメーション時間（ミリ秒）
```

## 📜 ライセンス

このプロジェクトは個人用途・学習用途で自由に使用できます。

## 🤝 コントリビューション

バグ報告や機能要望は Issues にてお願いします。

---

**楽しいゲームライフを！** 🎮✨
